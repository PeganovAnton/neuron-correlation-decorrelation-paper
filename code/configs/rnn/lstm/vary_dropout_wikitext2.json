{
  "num_repeats": 10,
  "dataset_reader": {
    "class": "dataset_readers.text2_reader.Text2Reader",
    "data_path": "text/wikitext-2"
  },
  "dataset_iterator": {
    "class": "dataset_iterators.text2_iterator.Text2Iterator",
    "split": {"validation": 0.1, "train": 0.9}
  },
  "model": {
    "class": "models.lstm.LSTM",
    "hidden_units": {
      "type":  "varied",
      "values": [[100], [100, 100], [500], [500, 500]]
    },
    "dropout": {
      "type": "varied",
      "values": [0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7]
    }
  },
  "train": {
    "result_save_path": "~/corr-paper/results/rnn/lstm/vary_dropout",
    "model_save_path": "~/corr-paper/code/saved_models/rnn/lstm/vary_dropout",
    "loss_cls": "torch.nn.NLLLoss",
    "optimizer_cls": {
      "type": "varied",
      "values": [
        "torch.optim.Adam",
        "torch.optim.SGD"
      ]
    },
    "lr_init": {
      "type": "varied",
      "values": [0.001, 0.1],
      "name":  "optimizer"
    },
    "lr_decay": 0.5,
    "lr_patience": 10,
    "lr_patience_period": 5000,
    "batch_specs": {"batch_size": 50, "seq_len": 100},
    "stop_patience_period": 5000,
    "stop_patience": 20,
    "log_factor": 1.05,
    "valid": {
      "batch_specs": {
        "batch_size": 100,
        "seq_len": 100
      },
      "hooks": {
        "lstm0_correlation": {
          "target": "lstm0",
          "hook_function": "hooks.correlation",
          "kwargs": {
            "corr_axis": 2,
            "reduced_axes": [
              0,
              1
            ]
          }
        },
        "lstm0_mean_squared": {
          "target": "lstm0",
          "hook_function": "hooks.mean_squared"
        }
      },
      "hooks_post_processing_fns": {
        "correlation": "hooks.average",
        "mean_squared": "hooks.average"
      }
    }
  },
  "metadata": {
    "vars": {
      "ROOT": "~/corr-paper"
    },
    "download": {
      "url": "https://s3.amazonaws.com/research.metamind.io/wikitext/wikitext-2-v1.zip"
    }
  }
}
